<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Арендовать</title>

  <link href="../../../static/css/bootstrap.css" rel="stylesheet"/>
  <link href="../../../static/css/Site.css" rel="stylesheet"/>

  <link href="../../../static/css/Foother.css" rel="stylesheet" />
  <!---->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link href="../../../static/css/Details.css" rel="stylesheet" />
  <link href="../../../static/css/Button.css" rel="stylesheet" />
  <link href="../../../static/css/Contact_CSS.css" rel="stylesheet" />

  <link href="../../../static/css/CreatContract.css" rel="stylesheet" />

  <!---->

</head>
<body style="padding-bottom: 0px">
<div class="navbar navbar-inverse navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <!--            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">-->
      <!--                <span class="icon-bar"></span>-->
      <!--                <span class="icon-bar"></span>-->
      <!--                <span class="icon-bar"></span>-->
      <!--            </button>-->
      <img src="../../../static/img/logo.png" alt="" style="width: 40px; height: 40px; margin: 5px;">

      <a class="navbar-brand navBar-item" href="../Home/Index.html">Car FY</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="navBar-item"><a href="../Home/About.html">Информация</a></li>
        <li class="navBar-item"><a href="../Home/Contacts.html">Контакты</a></li>
        <li class="navBar-item"><a href="../Car/IndexAll.html">Автопарк</a></li>
        <li class="navBar-item"><a href="../Appeal/IndexAll.html">Вопросы</a></li>

        <li class="navBar-item"><a href="../Contract/IndexAll.html">Мои аренды</a></li>
        <li class="navBar-item"><a href="../Home/Customers.html">Пользователи</a></li>
      </ul>

      <ul>
        <form action="/logout" class="navbar-right" method="post" id="logoutForm">
          <input type="hidden" name="_csrf" value="${_csrf.token}">
          <ul class="nav navbar-nav navbar-right">
            <!--                        <li>-->
            <!--                            <a style="color: #46F046; text-decoration: none; font-size: 18px; display: block; font-weight: 600" href="tel:+78005553535">+7 (800) 555-35-35</a>-->
            <!--                        </li>-->
            <li>
              <a href="../Account/Index_Customer.html" title="Manage">Здравствуйте user@mail.ru!</a>
            </li>
            <li>
              <!--              <a href="javascript:document.getElementById('logoutForm').submit()">Выйти</a>-->
              <a href="../Home/Index.html">Выйти</a>
            </li>
            <li>
              <a href="../Account/Log.html">Войти</a>
            </li>
          </ul>
        </form>
      </ul>

    </div>
  </div>
</div>

<div class="container body-content" style="display: flex; flex-direction: column; min-height: 100%; width: 80%;">

  <ul class="nav nav-tabs" style="margin-top: 5%;">
    <li class="active">
      <a data-toggle="tab" href="#contract"><h4>Аренда</h4></a>
    </li>
    <li>
      <a data-toggle="tab" href="#CarDetails"><h4>Авто</h4></a>
    </li>
  </ul>

  <br />

  <div class="tab-content">

    <div id="contract" class="tab-pane fade in active">
      <form action="" method="post">
        <p id="message" style="color: red;"></p>
        <div class="tab-conten form-horizontal">

          <div class="tab-pane fade in active">

            <div style="display: flex;">
              <!--Time rent-->
              <div style="width: 70%; display: block">
                  <h3 class="timeRentalHeader">Получение</h3>

                <!--DateTake-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Дата получения</label>
                    </div>
                    <div>
                      <input style="width: 100%;" Value="2023-02-14T14:02" class="form-control datepicker text-box single-line" data-val="true" id="Date_Start" name="Date_Start" type="datetime-local" value="" />
                    </div>
                  </div>
                <!--DateTake-->

                <!--PlaceTake-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Место получения</label>
                    </div>
                    <div>
                      <select class="form-control text-box single-line" style="width: 100%;">
                        <option>Автовокзал</option>
                        <option>Офис</option>
                        <option>Свой вариант</option>
                      </select>
                    </div>
                  </div>
                <!--PlaceTake-->

                  <h3 class="timeRentalHeader">Возврат</h3>

                <!--DateReturn-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Дата возврата</label>
                    </div>
                    <div>
                      <input style="width: 100%;" Value="" class="form-control datepicker text-box single-line" data-val="true" data-val-date="Поле Дата окончания аренды должно содержать дату." data-val-required="Требуется поле Дата окончания аренды." id="Date_End" min="02/15/2023 14:02:41" name="Date_End" type="datetime-local" value="" />
                      <span class="field-validation-valid text-danger" data-valmsg-for="Date_End" data-valmsg-replace="true"></span>
                      <p id="notDateEnd" style="color: red;"></p>
                    </div>
                  </div>
                <!--DateReturn-->

                <!--PlaceReturn-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Место возврата</label>
                    </div>
                    <div>
                      <select class="form-control text-box single-line" style="width: 100%;">
                        <option>Автовокзал</option>
                        <option>Офис</option>
                        <option>Свой вариант</option>
                      </select>
                    </div>
                  </div>
                <!--PlaceReturn-->

                <h3 class="timeRentalHeader">Стоимость</h3>
                <!--PriceRent-->

                <!--AdditionOptions-->
                <div class="dateStart">

                  <div style="width: 40%">
                    <label class="control-label" for="Date_Start">Доп. опции</label>
                  </div>

                  <div style="width: 100%; display: block">
                    <div style="display: flex;">
                      <div style="padding: 0; display: inline-block; width: 60%">
                        <label for="Registrator" class="labelForCheckBox">Видеорегистратор 150р/сутки</label>
                        <label for="AutoBox" class="labelForCheckBox">Автобокс 250р/сутки</label>
                        <label for="child" class="labelForCheckBox">Детское кресло 100р/сутки</label>
                      </div>

                      <div style="padding: 0; display: inline-block; text-align: center; width: 22%;">
                        <div style="display:flex;">
                          <input type="checkbox" id="Registrator" data-name="Registrator" name="Registrator" value="150" class="bloc-input-checkBox" />
                          <output style="display: compact; margin-left: 15px; font-size: 16px; color: black; text-align: center; "></output>
                        </div>
                        <div style="display:flex;">
                          <input type="checkbox" id="AutoBox" data-name="AutoBox" name="AutoBox" value="250" class="bloc-input-checkBox" />
                          <output style="display: compact; margin-left: 15px; font-size: 16px; color: black; text-align: center; "></output>
                        </div>
                        <div style="display:flex;">
                          <input type="range" min="0" max="3" value="0" id="child" data-name="child" name="interest" class="inputChaildChest" oninput="this.nextElementSibling.value = this.value" />
                          <output style="display: compact; margin-left: 15px; font-size: 16px; color: black; text-align: center; "></output>
                        </div>
                      </div>
                    </div>

                    <input class="form-control text-box single-line" id="Additional_Options" name="Additional_Options" style="display: none;" type="text" value="" />
                    <span class="field-validation-valid text-danger" data-valmsg-for="Additional_Options" data-valmsg-replace="true"></span>

                  </div>

                    </div>
                <!--AdditionOptions-->

                <!--Price-->
                <div class="dateStart" id="price-block">
                  <div style="width: 40%">
                    <label class="control-label" for="Date_Start">Цена</label>
                  </div>
                  <div>
                    <input Value="2999" class="form-control price text-box single-line" data-val="true" id="Price" name="Price" readonly="readonly" style="width: 100%;" type="text"/>
                    <span class="field-validation-valid text-danger" data-valmsg-for="Price" data-valmsg-replace="true"></span>
                  </div>
                </div>
                <!--Price-->

                <!--Time Rental-->
                <div class="dateStart">
                  <div style="width: 40%">
                    <label class="control-label" for="Date_Start">Продолжительность аренды</label>
                  </div>
                  <div>
                    <output id="rentalTime" style="display: block; margin-left: 15px; font-size: 16px; color: black;"></output>
                  </div>
                </div>
                <!--Time Rental-->

                <!--Note-->
                <div class="dateStart">
                  <div style="width: 40%">
                    <label class="control-label" for="Date_Start">Примечания</label>
                  </div>
                  <div>
                    <input class="form-control text-box single-line" id="Notes" name="Notes" style="width: 150%;" type="text" value="" />
                  </div>
                </div>
                <!--Note-->

                <!--PriceRent-->
              </div>
              <!--Time rent-->

              <!--OtherData-->
              <div style="width: 50%; display: block">

                <h3 class="timeRentalHeader">Ваши данные</h3>

                  <!--ФИО-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">ФИО Клиента</label>
                    </div>

                    <div>
                      <input Value="Иванов Иван Иванович" class="form-control text-box single-line" data-val="true" data-val-required="Требуется поле ФИО Клиента." id="FIO_Customer" name="FIO_Customer" style="width: 100%;" type="text" value="" />
                    </div>
                  </div>
                  <!--ФИО-->

                  <!--Email-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Email</label>
                    </div>

                    <div>
                      <input Value="email@mail.ru" class="form-control text-box single-line" data-val="true" style="width: 100%;" type="text"/>
                    </div>
                  </div>
                  <!--Email-->

                  <!--Phone-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Телефон</label>
                    </div>

                    <div>
                      <input Value="88005553535" class="form-control text-box single-line" data-val="true" style="width: 100%;" type="text"/>
                    </div>
                  </div>
                  <!--Phone-->

                  <!--DriverLicense-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Номер ВУ</label>
                    </div>

                    <div>
                      <input Value="12345678" class="form-control text-box single-line" data-val="true" style="width: 100%;" type="text"/>
                    </div>
                  </div>
                  <!--DriverLicense-->

                  <!--Address-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Адресс проживания</label>
                    </div>

                    <div>
                      <input Value="г.Владимир ул.Горького д.3" class="form-control text-box single-line" data-val="true" style="width: 120%;" type="text"/>
                    </div>
                  </div>
                  <!--Address-->

                <h3 class="timeRentalHeader">Авто</h3>

                  <!--Brand-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Марка авто</label>
                    </div>

                    <div>
                      <input Value="BMW" class="form-control text-box single-line" readonly="readonly" style="width: 100%;" type="text"/>
                    </div>
                  </div>
                  <!--Brand-->

                  <!--Model-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">Модель авто</label>
                    </div>

                    <div>
                      <input Value="X1" class="form-control text-box single-line" readonly="readonly" style="width: 100%;" type="text"/>
                    </div>
                  </div>
                  <!--Model-->

                  <!--WIN-->
                  <div class="dateStart">
                    <div style="width: 40%">
                      <label class="control-label" for="Date_Start">WIN номер</label>
                    </div>

                    <div>
                      <input Value="VF7RD5FNABL000010" class="form-control text-box single-line" readonly="readonly" style="width: 100%;" type="text"/>
                    </div>
                  </div>
                  <!--WIN-->

                  <!--Rent Button-->
                  <div class="dateStart">
                    <div style="width: 100%;">
                      <a href="IndexAll.html" class="btn-details" >Арендовать</a>
                    </div>
                  </div>
                  <!--Rent Button-->
              </div>
              <!--OtherData-->
            </div>

          </div>
          <div style="display: none;">
            <input type="number" value="2999" id="PricePerDay" readonly="readonly" />
          </div>
        </div>
      </form>
    </div>
    <div id="CarDetails" class="tab-pane fade in" style="width: 100%;">

      <div class="container body-content" style="display: flex; flex-direction: column; min-height: 100%; width: 100%;">

          <a href="../Car/IndexAll.html">Список авто</a>

          <a href="../Car/Edit.html" style="display: block;font-size: 25px;width: 100%;text-align: center;text-decoration: none;color: black;font-weight: 600;">Редaктировать</a>
        <!---->
        <div class="container-fluid bloc">
          <div class="col-lg-2 bloc-inside bloc-image">
            <img src="../../../static/img/cars/bmwX1.jpeg" width="100%" height="100%" style="border-radius: 15px;" />
          </div>
          <div class="col-lg-2 bloc-inside bloc-info">
            <h3>Период аренды</h3>
            <form action="Contracts/Create" method="get">
              <div style="display: flex">
                <div class="col-lg-2 col-lg-label" style="padding-top: 30px;">

                  <label>Начало: </label>
                  <br /><br />
                  <label>Завершение: </label>
                </div>
                <div class="col-lg-2 col-lg-text">
                  <input Value="2023-02-14 14:02" class="form-control datepicker text-box single-line" id="dateStart" min="02/14/2023 14:02:41" name="dateStart" style="width: 100%;" type="datetime-local" value="" />

                  <br />
                  <input class="form-control datepicker text-box single-line" id="dateEnd" min="02/15/2023 14:02:41" name="dateEnd" style="width: 100%;" type="datetime-local" value="" />

                </div>
              </div>
              <br />
              <div style="width:100%; height:100%; text-align:center;">
                <a id="RentalCar" class = "btn-details">Арендовать</a>

              </div>

            </form>
            <hr />

            <span class="period">
            <b>2999&nbsp;₽</b>
            <span style="font-size: 20px">/ сутки</span>
        </span>
            <p>
              Вы пока ни за что не платите. Оформив аренду, можно лично обговорить детали бронирования с менеджером.
            </p>
          </div>
        </div>
        <!---->

        <div class="col-lg-2 bloc-inside bloc-image" style="height: 100%;">
    <span class="period">
        <b>
            BMW
            X1
        </b>
    </span>

          <hr style="color: #5394FD; margin: 5px; padding: 0.5px; background: #5394FD;" />

          <p style="font-size: 16px">
            BMW X1,  2010
          </p>
        </div>

        <div class="col-lg-2 bloc-inside bloc-image" style="height: 100%;">
    <span class="period">
        <b>
            Характеристики
        </b>
    </span>
          <br />

          <div class="character">
            <div style="display: flex; width: 100%;">
              <div class="col-lg-2 character-label">
                <label>Привод</label>
              </div>

              <div class="col-lg-2 character-data">
                <label>Задний</label>
              </div>
            </div>
            <div style="display: flex; width: 100%;">
              <div class="col-lg-2 character-label">
                <label>Кузов</label>
              </div>
              <div class="col-lg-2 character-data">
                <label>Хетчбэк</label>
              </div>
            </div>
            <div style="display: flex; width: 100%;">
              <div class="col-lg-2 character-label">
                <label>КП</label>
              </div>
              <div class="col-lg-2 character-data">
                <label>Автоматическая</label>
              </div>
            </div>
            <div style="display: flex; width: 100%;">
              <div class="col-lg-2 character-label">
                <label>Мощность</label>
              </div>
              <div class="col-lg-2 character-data">
                <label>150</label>
              </div>
            </div>
            <div style="display: flex; width: 100%;">
              <div class="col-lg-2 character-label">
                <label>Класс</label>
              </div>
              <div class="col-lg-2 character-data">
                <label>Эконом</label>
              </div>
            </div>

            <div style="display: flex; width: 100%;">
              <div class="col-lg-2 character-label">
                <label>Цвет</label>
              </div>
              <div class="col-lg-2 character-data">
                <label>Коричневый</label>
              </div>
            </div>
            <div style="display: flex; width: 100%;">
              <div class="col-lg-2 character-label">
                <label>Год выпуска</label>
              </div>
              <div class="col-lg-2 character-data">
                <label>2010</label>
              </div>
            </div>
            <div style="display: flex; width: 100%;">
              <div class="col-lg-2 character-label">
                <label>Пробег</label>
              </div>
              <div class="col-lg-2 character-data">
                <label>90000</label>
              </div>
            </div>
          </div>

        </div>

        <br />

      </div><!-- /End Section Container -->

    </div>

  </div>

  <br />

</div><!-- /End Section Container -->

<div class="container navbar-header" style="width: 100%; padding: 0px;">
  <!-- Footer 3
  ==================================================================== -->
  <footer id="footer-section-3" class="footer-page white-section footer" style="background: #404040; margin-top: 25px;">
    <!-- Section Container -->
    <div class="section-container" style=" width: 100%;">


      <!-- container -->
      <div class="container" style=" width: 100%;  height: 100%; align-content: center">
        <!-- row -->
        <!-- Widget Block ( Text ) -->
        <div class="col-md-2 widget-block text-widget-block" style="text-align: left; width: 25%;">
          <!-- Widget Block Container -->
          <div class="widget-block-container">

            <!-- Widget Block Content -->
            <div class="widget-block-content" style="color: white; font-size: 16px; align-content: center; padding: 20px 20px 0px;">

              <!-- Description -->
              <p>Аренда и прокат автомобилей во Владимире. Владимир, Проспект Строителей 7Б, стр. 14, ООО «Прокат-Авто»</p>

            </div><!-- /End Widget Block Content -->


          </div><!-- /End Widget Block Container -->
        </div><!-- /End Widget Block ( Text ) -->
        <!-- Widget Block ( Link ) -->
        <div class="col-md-2 widget-block link-widget-block" style="width: 17%;">
          <!-- Widget Block Container -->
          <div class="widget-block-container">


            <!-- Widget Block Title -->
            <div class="widget-block-title" style="color: white;">
              <h4>Информация</h4>
            </div><!-- /End Widget Block Title -->
            <!-- Widget Block Content -->
            <div class="widget-block-content">
              <a href="../Home/About.html" class="footer_link" style="text-decoration: none; color: white; display: block">О нас</a>
              <a href="../Home/Contacts.html" class="footer-link" style="text-decoration: none; color: white; display: block">Контакты</a>
              <a href="../Car/IndexAll.html" class="footer-link" style="text-decoration: none; color: white; display: block">Автопарк</a>
            </div><!-- /End Widget Block Content -->


          </div><!-- /End Widget Block Container -->
        </div><!-- /End Widget Block ( Link ) -->
        <!-- Widget Block ( Link ) -->
        <div class="col-md-2 widget-block link-widget-block" style="width: 19%;">
          <!-- Widget Block Container -->
          <div class="widget-block-container">

            <!-- Widget Block Title -->
            <div class="widget-block-title" style="color: white;">
              <h4>Личный кабинет</h4>
            </div><!-- /End Widget Block Title -->
            <!-- Widget Block Content -->
            <div class="widget-block-content">
              <a href="../Account/Reg.html" style="text-decoration: none; color: white; display: block">Регистрация</a>
              <a href="../Account/Log.html" style="text-decoration: none; color: white; display: block">Авторизация</a>
            </div><!-- /End Widget Block Content -->

          </div><!-- /End Widget Block Container -->
        </div><!-- /End Widget Block ( Link ) -->
        <!-- Widget Block ( Связь ) -->
        <div class="col-md-2 widget-block social-widget-block" style="width: 19%;">
          <!-- Widget Block Container -->
          <div class="widget-block-container">

            <!-- Widget Block Title -->
            <div class="widget-block-title" style="color: white;">
              <h4>Связаться с нами</h4>
            </div><!-- /End Widget Block Title -->
            <!-- Widget Block Content -->
            <div class="widget-block-content">

              <!-- Social Icons Block -->
              <div class="social-icons-block social-icons-block-md social-icons-block-style-1">
                <a style="color: white; text-decoration: none; font-size: 18px; display: block" href="tel:+78005553535">+7 (800) 555-35-35</a>
                <p style="text-decoration: none; color: white; display: block">9:00 - 18:00 ежедневно</p>
                <a style="color: white; text-decoration: none; display: block" href="mailto:CarRental@mail.ru">CarRental@mail.ru</a>
              </div><!-- /End Social Icons Block -->

            </div><!-- /End Widget Block Content -->


          </div><!-- /End Widget Block Container -->
        </div><!-- /End Widget Block ( Social ) -->
        <!-- Widget Block ( Social ) -->
        <div class="col-md-2 widget-block social-widget-block" style="width: 19%;">
          <!-- Widget Block Container -->
          <div class="widget-block-container">


            <!-- Widget Block Title -->
            <div class="widget-block-title" style="color: white;">
              <h4>Мы в соц. сетях</h4>
            </div><!-- /End Widget Block Title -->
            <!-- Widget Block Content -->
            <div class="widget-block-content">

              <!-- Social Icons Block -->
              <div class="social-icons-block social-icons-block-md social-icons-block-style-1">
                <div class="social vk">
                  <a href="#" target="_blank"><i class="fa fa-vk fa-2x"></i></a>
                </div>

                <div class="social youtube">
                  <a href="#" target="_blank"><i class="fa fa-youtube fa-2x"></i></a>
                </div>

                <div class="social telegram">
                  <a href="#" target="_blank"><i class="fa fa-paper-plane fa-2x"></i></a>
                </div>
              </div><!-- /End Social Icons Block -->

            </div><!-- /End Widget Block Content -->


          </div><!-- /End Widget Block Container -->
        </div><!-- /End Widget Block ( Social ) -->


      </div><!-- /End row -->
    </div><!-- /End container -->
  </footer><!-- /End Footer 3 -->
</div>

<!--<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>-->
<script src="../../../static/js/jquery-3.4.1.min.js"></script>
<script src="../../../static/js/jquery-1.10.2.js"></script>
<script src="../../../static/js/jquery-3.4.1.js"></script>
<script src="../../../static/js/bootstrap.js"></script>
<script src="../../../static/js/IndexScript.js"></script>

<script>
  // function NoneRental() {
  //   var p = document.getElementById('notFinish');
  //   p.innerHTML = 'Вы не можете арендовать новоем авто т.к. у вас уже есть активная аренда.';
  // };

  function getDateStart() {

    var returned = "";
    returned = returned + $('#dateStart').val();

    console.log(returned);

    return { returned };
  }

  function getDateEnd() {

    var returned = "";
    returned = returned +  $('#dateEnd').val();

    console.log(returned);

    return { returned };
  }

  function FalidDate() {
    var dateStart = $('#dateStart').val();
    var dateEnd = $('#dateEnd').val();

    var Start = Date.parse(dateStart);
    var End = Date.parse(dateEnd);

    var timeRental = (End - Start) / (1000 * 60 * 60 * 24);
    var price = $('#PricePerDay').val();

    document.getElementById("Price").setAttribute('value', roundNumber(timeRental * price, 2));

    document.getElementById("rentalTime").value = roundNumber(timeRental, 1) + '.суток';

    document.getElementById('Registrator').checked = false;
    document.getElementById('AutoBox').checked = false;
    document.getElementById('child').checked = false;
    /*        $('#Registrator').on('change', PlusPriceFORCheckBox);*/
    /*$('#Price').val = timeRental;*/
  }
  //
  //   ($('#RentalCar')).on("click", function () {
  //   var dateStart = "";
  //   var dateEnd = "";
  //   dateStart = dateStart + getDateStart().returned;
  //   dateEnd = dateEnd + getDateEnd().returned;
  //   console.log(dateStart);
  //   console.log(dateEnd);
  //   var url = "https://localhost:44347/Contracts/Create/" + "67001" + "?dateStart=" + dateStart + "&dateEnd=" + dateEnd;
  //   console.log(url)
  //   window.location = url;
  // })

  ($('#Date_End')).on("change keyup paste", function () {
    var dateStart = $('#Date_Start').val();
    var dateEnd = $('#Date_End').val();

    var Start = Date.parse(dateStart);
    var End = Date.parse(dateEnd);

    var timeRental = (End - Start) / (1000 * 60 * 60 * 24);
    var price = $('#PricePerDay').val();

    document.getElementById("Price").setAttribute('value', roundNumber(timeRental * price, 0));

    document.getElementById("rentalTime").value = roundNumber(timeRental, 1) + '.суток';

    document.getElementById('Registrator').checked = false;
    document.getElementById('AutoBox').checked = false;
    document.getElementById('child').value = 0;
    /*        $('#Registrator').on('change', PlusPriceFORCheckBox);*/
    /*$('#Price').val = timeRental;*/
  });

  ($('#Date_Start')).on("change keyup paste", function () {
    var dateStart = $('#Date_Start').val();
    var dateEnd = $('#Date_End').val();

    var Start = Date.parse(dateStart);
    var End = Date.parse(dateEnd);

    var timeRental = (End - Start) / (1000 * 60 * 60 * 24);
    var price = $('#PricePerDay').val();

    document.getElementById("Price").setAttribute('value', roundNumber(timeRental * price, 0));

    document.getElementById("rentalTime").value = roundNumber(timeRental, 1) + '.суток';

    document.getElementById('Registrator').checked = false;
    document.getElementById('AutoBox').checked = false;
    document.getElementById('child').value = 0;
  })

  function codeAddress() {
    var dateStart = $('#Date_Start').val();
    var dateEnd = $('#Date_End').val();

    var Start = Date.parse(dateStart);
    var End = Date.parse(dateEnd);

    var timeRental = (End - Start) / (1000 * 60 * 60 * 24);
    var price = $('#PricePerDay').val();

    document.getElementById("Price").setAttribute('value', roundNumber(timeRental * price, 0));
    document.getElementById("rentalTime").value = roundNumber(timeRental, 1) + '.суток';

    document.getElementById('Registrator').checked = false;
    document.getElementById('AutoBox').checked = false;
    document.getElementById('child').value = 0;
  }
  window.onload = codeAddress;

  function roundNumber(number, digits) {
    var multiple = Math.pow(10, digits);
    var rndedNum = Math.round(number * multiple) / multiple;
    return parseFloat(rndedNum);
  }

  function ValidDate() {

    var dateStart = $('#Date_Start').val();
    var dateEnd = $('#Date_End').val();
    var Notes = $('#Notes').val();

    var Start = Date.parse(dateStart);
    var End = Date.parse(dateEnd);

    var timeRental = (End - Start) / (1000 * 60 * 60 * 24);

    /*        var submit = document.getElementById('submit');*/
    //console.log("Notes: " + Notes);

    if (Start >= End || (timeRental < 1) || (timeRental >= 100) || dateEnd == "") {
      //console.log(Start >= End);
      //console.log("dateEnd " + dateEnd);
      document.getElementById('message').innerHTML = "Выберите корректную дату аренды (от 1 дня до 3-х месяцев) и остальные данные";
    } else {
      AddAdditionsOptions();
      document.getElementById('message').innerHTML = "";
      $('#submit').attr('type', 'submit');
    }
  }


  function PlusPriceFORCheckBox(nameInput) {

    var dateStart = $('#Date_Start').val();
    var dateEnd = $('#Date_End').val();

    var Start = Date.parse(dateStart);
    var End = Date.parse(dateEnd);

    var Input = document.getElementById(nameInput);
    console.log(Input)
    var name = this.getAttribute('data-name');


    var timeRental = (End - Start) / (1000 * 60 * 60 * 24);
    var price = $('#PricePerDay').val();
    console.log("Цена за день аренды: " + price);

    var priceDo = $('#Price').val();
    var priceDOInt = Number.parseInt(priceDo);
    console.log("Цена до услуги:" + priceDOInt);
    var priceUslugi = $('#' + name).val();
    console.log("Цена услуги: " + priceUslugi);
    var priceUslugiInt = Number.parseInt(priceUslugi);

    var priceRental = roundNumber(timeRental * price, 0);
    console.log("Время аренды: " + timeRental);
    console.log("Цена за всю аренду по времени: " + priceRental);


    if (document.getElementById(name).checked && dateEnd != "") {
      console.log("нажат");
      console.log(timeRental);

      console.log("priceUslugi:" + priceUslugiInt);

      document.getElementById("Price").setAttribute('value', roundNumber((priceDOInt + (timeRental * priceUslugiInt)), 0));

      console.log("Price dop. uslugi : " + (timeRental * priceUslugiInt));

      this.nextElementSibling.value = roundNumber(timeRental * priceUslugiInt, 0);
      document.getElementById('notDateEnd').innerHTML = "";

    } else if (dateEnd != "") {
      document.getElementById(name).checked = false;
      this.nextElementSibling.value = "";
      document.getElementById("Price").setAttribute('value', roundNumber((priceDOInt - (timeRental * priceUslugiInt)), 0));
    } else {
      console.log("not нажат");
      document.getElementById(name).checked = false;
      document.getElementById('notDateEnd').innerHTML = "Выберите дату завершения аренды!";
      document.getElementById("Price").setAttribute('value', roundNumber(priceDOInt - (timeRental * priceUslugiInt), 0));
      this.nextElementSibling.value = "";
    }
  }

  function PlusPriceFORChiledChes() {
    var dateStart = $('#Date_Start').val();
    var dateEnd = $('#Date_End').val();
    var Start = Date.parse(dateStart);
    var End = Date.parse(dateEnd);

    var timeRental = (End - Start) / (1000 * 60 * 60 * 24);

    var priceDo = $('#Price').val();
    var priceDOInt = getNowPrice();
    //var price = $('#PricePerDay').val();
    //var priceDOInt = Number.parseInt(price);

    //priceDOInt = roundNumber(priceDOInt * timeRental, 0);

    console.log("Функция расчёта цены аренды: " + getNowPrice());

    console.log(priceDOInt);
    var rng = document.getElementById('child');
    var rngValue = Number.parseInt(rng.value);
    console.log(rngValue);
    var priceUslugi = Number.parseInt(rngValue * 100);
    if (rngValue != 0 && dateEnd != "") {
      console.log("нажат");
      console.log("priceUslugi:" + (rngValue * 100));
      document.getElementById("Price").setAttribute('value', priceUslugi + priceDOInt);
      console.log("Price dop. uslugi : " + (rngValue * 100));
    } else if (dateEnd == "") {
      console.log("not нажат");
      document.getElementById('notDateEnd').innerHTML = "Выберите дату завершения аренды!";
      document.getElementById('child').value = 0;
      this.nextElementSibling.value = this.value;
    } else if (dateEnd != "") {
      document.getElementById("Price").setAttribute('value', priceDOInt - priceUslugi);
    }
  }

  function getNowPrice() {
    var dateStart = $('#Date_Start').val();
    var dateEnd = $('#Date_End').val();

    var Start = Date.parse(dateStart);
    var End = Date.parse(dateEnd);

    var timeRental = (End - Start) / (1000 * 60 * 60 * 24);
    var price = $('#PricePerDay').val();

    var priceUslugi1 = $('#Registrator').val();
    var priceUslugi2 = $('#AutoBox').val();

    priceUslugi1Int = 0;
    priceUslugi2Int = 0;

    if (document.getElementById("Registrator").checked) {
      priceUslugi1Int = roundNumber(timeRental * Number.parseInt(priceUslugi1), 0);
    }

    if (document.getElementById("AutoBox").checked) {
      priceUslugi2Int = roundNumber(timeRental * Number.parseInt(priceUslugi2), 0);
    }


    priceNow = roundNumber(timeRental * price, 0);
    priceNow = priceNow + priceUslugi1Int + priceUslugi2Int;
    return priceNow;
  }

  $('#Registrator').on('change', PlusPriceFORCheckBox);
  $('#AutoBox').on('change', PlusPriceFORCheckBox);
  $('#child').on('change', PlusPriceFORChiledChes);

  function AddAdditionsOptions() {
    var checkBox1 = document.getElementById("Registrator").checked;
    var checkBox2 = document.getElementById("AutoBox").checked;
    var child = document.getElementById("child").value;

    var additionnalOptions = document.getElementById("Additional_Options").value;
    var input = document.getElementById("Additional_Options");

    if (checkBox1) {
      input.setAttribute('value', additionnalOptions + "Видеорегистратор;");
      additionnalOptions = document.getElementById("Additional_Options").value;
      /* console.log(additionnalOptions);*/
    }
    if (checkBox2) {

      input.setAttribute('value', additionnalOptions + "\ Автобокс;");
      additionnalOptions = document.getElementById("Additional_Options").value;
      /*            console.log(additionnalOptions);*/
    }
    if (child != 0) {
      input.setAttribute('value', additionnalOptions + "\ Детское-кресло;" + child);
      additionnalOptions = document.getElementById("Additional_Options").value;
      /*            console.log(additionnalOptions);*/
    }

  }

</script>

</body>
</html>
